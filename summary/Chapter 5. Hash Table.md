# Хеш-таблицы
## Хеш-функции
**Хеш-функция** - функция, которая на вход получает строку (или любые другие данные) и вохвращает число. Иначе говоря, она отображает строки на числа. 
**Условия для создания хеш-функций:**
* последовательность (допустим, вы передали строку "апельсины" и получили 4. Это значит, что в будущем, передавая ей строку "апельсины", вы будете получать 4)
* разным строкам должны соответсвовать разные числа (каждое входное слово должно отображаться на свое число)
**Свойства хеш-функций:**
* Хеш-функция неизменно связывает название с одним индексом. Каждый раз, когда она вызвается для строки "авокадо", вы получаете обратно одно и то же число. При первом вызове этой функции вы узнаете, где следует сохранить цену авокадо, а при последующих вызовах она сообщает, где взять цену.
* Хеш-функция связывает разные строки с разными индексами. "Авокадо" связывается с индексом 4, а "молоко" - с индексом 0. Для каждой строки находится отдельная позиция массива, в которой сохраняется цена товара.
* Хеш-функция знает размер массива и возвращает только действительные индексы. Таким образом, ели длина массива равна 5 элементам, хеш-функция не вернет 100, потому что это значение не является действительным индексом.

**Хеш-таблица** - структура данных, состоящая из хеш-функции и связанного с ним массива. Хеш-таблицы известны как `"ассоциативные массивы"`, `"словари"`, `"отображения"`, `"хеш-карты"` и `"хеши"`. Они очень быстро работают, т.к. для хранения данных используются массивы, доступ к элементам которого мгновенный.

В любом языке программирования уже реализованы хеш-таблицы. В Python они называются словарями и создаются функцией `dict()` или `{}`.
```python
book = dict()
book['apple'] = 0.67
book['milk'] = 1.49
book['avocado'] = 1.49
print(book)
{'avocado': 1.49, 'apple': 0.67, 'milk': 1.49}
```
Хеш-таблица состоит из ключей и значений. В хеше `'book'` имена продуктов являются ключами, а цены - значениями. Хеш-таблица связывает ключи со значениями. 
## Примеры использования хеш-таблиц
### Использование хеш-таблиц для поиска
```pyhton
phone_book = {}
phone_book["Jenny"] = 8675309
phone_book["emergency"] = 911
print(phone_book["Jenny"])
8675309
```
Хеш-таблицы используются для преобразваония символического имени домена сайта в IP-адрес. Этот процесс называется _преоабразованием DNS_. 
### Исключение добликатов
```python
voted = {}
def check_voter(name):
  if voted.get(name):
    print("kick them out!")
  else:
    voted[name] = True
    print("let them vote!")
```
Функция `get` возвращает значение, если ключ присутствует в хеш-таблице. Иначе, возвращается `None`. 
### Использование хеш-таблицы как кэша
```python
cache = {}
def get_page(url):
  if cache.get(url):
    return cache[url]   #возвращаются кэшированные данные
  else:
    data = get_data_from_server(url)
    cache[url] = data    #данные сначала сохраняются в кэшэ
    return data
```
_Кэширование_ - процесс сохранения данных. Он запоминает URL-адреса, на которые заходил пользователь и их сохраняет в кэше (специальном участке памяти). При возвращении пользователя на эти сайты, браузер вернет сохраненную копию страницы, а не отправит запрос на серверы.
## Коллизии
**Коллизия** - двум ключам назначается один элемент массива. Так, если несколько несколько ключей отображаются на один элемент, в этом элементе создается связанный список. 
## Выводы:
* Хэш-таблица создается путем объединения хеш-функции с массивом.
* Коллизии нежелательны. Хеш-функция должна свести количество коллизий к минимуму.
* Хэш-таблицы обеспечивают очень быстрое выполнение поиска, вставки и удаления.
* Хэш-таблицы хорошо подходят для моделирования отношений между объектами.
* Как только коэффицент хаполнения превышает 0.7, пора изменять размер хэш-таблицы.
* Хэш-таблицы используются для кэширования данных (например, на веб-сервисах).
* Хэш-таблицы хорошо подходят для обнаружения дубликатов. 



  

